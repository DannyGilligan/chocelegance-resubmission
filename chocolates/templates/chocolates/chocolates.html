<!-- This template is extended from the main base.html file located in the root templates directory -->
{% extends "base.html" %}
{% load static %}

<!-- Additional sub-header block below main header, extended from base.html -->
{% block page_header %}
<div class="container header-container col-8 mx-auto">
    <div class="row">
        <div class="col">

        </div>
    </div>
</div>
{% endblock %}


<!-- The block content below is injected into the main base.html template -->
{% block content %}
<!-- Overlay div controls the background (changes it to all white) -->
<div class="overlay">
</div>


<div class="container-fluid col-8 mx-auto">
    <!-- First row contains page title and selected categories  -->
    <div class="row">
      <div class="col text-center mt-5">
        <h2 class="logo-font">Chocolates</h2>
        <hr class="w-50 mb-2">
      </div>
    </div>

    <!-- Second row contains the chocolates, this row consists of another two rows -->
    <div class="row">
      <div class="chocolate-container col-8 offset-1">

        <div class="row mt-2 mb-2"></div>

        <!-- This row contains a DTL for loop to iterate through the chocolates context variable -->
        <div class="row">
            {% for chocolate in chocolates %}
            <!-- Creates a bootstrap card for each chocolate -->
            <div class="col-sm-6 col-md-6 col-lg-6 col-xl-5">
                <div class="card h-100 border-0 rounded-2">

                    <!-- Card image -->
                    {% if chocolate.choc_image %}
                    <a href="">
                        <img class="card-img-top img-fluid rounded-2" src="{{ chocolate.choc_image.url }}" alt="{{ chocolate.choc_name }}">
                    </a>
                    {% else %}
                    <a href="">
                        <img class="card-img-top img-fluid rounded-2" src="{{ MEDIA_URL }}noimage.webp" alt="{{ chocolate.choc_name }}">
                    </a>
                    {% endif %}

                    <!-- Card body -->
                    <div class="card-body pb-0  rounded-2">
                        <p class="mb-0">{{ chocolate.choc_name }}</p>
                    </div>

                    <!-- Card footer -->
                    <div class="card-footer bg-white pt-0 border-0 text-left rounded-2">
                        <div class="row">
                            <div class="col">
                                <p class="lead mb-0 text-left font-weight-bold">â‚¬{{ chocolate.choc_price }}</p>
                                {% if chocolate.choc_rating %}
                                    <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ chocolate.choc_rating }} / 5</small>
                                {% else %}
                                    <small class="text-muted">No Rating</small>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                </div>
                <!-- Card ends with closing div tag above -->
            </div>
            {% endfor %}
        </div>
        

      </div>
    </div>

</div>

{% endblock %}